<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Парковка во дворе</title>
    <style>
        body {
            margin: 0;
            padding: 0;
            background: #f0f0f0;
            font-family: Arial, sans-serif;
        }

        .header {
            padding: 20px;
            background: #2E7DFF;
            color: white;
            text-align: center;
            font-size: 1.2rem;
        }

        .map-container {
            position: relative;
            width: 100%;
            max-width: 800px;
            margin: 20px auto;
        }

        svg {
            width: 100%;
            height: auto;
            border: 1px solid #ccc;
            cursor: default;
        }

        .parking-comment {
            position: absolute;
            background: white;
            border: 1px solid #ddd;
            padding: 5px;
            border-radius: 4px;
            font-size: 0.9rem;
            max-width: 150px;
        }

        .comment-form {
            position: fixed;
            bottom: 20px;
            left: 50%;
            transform: translateX(-50%);
            background: white;
            padding: 20px;
            border-radius: 12px;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
            display: none;
        }

        .comment-form input {
            width: 100%;
            padding: 10px;
            margin: 5px 0;
            border: 1px solid #ddd;
            border-radius: 4px;
        }

        .comment-form button {
            background: #2196F3;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 4px;
            cursor: pointer;
        }
    </style>
</head>
<body>
    <div class="header">
        Тут можно знать кого подпереть и до скольки. Если вы уже заняли место оставьте комментарий до скольки вас можно 'подпереть'
    </div>

    <div class="map-container">
        <svg id="parking_map" viewBox="0 0 800 600">
            <rect id="parking_1" x="50" y="50" width="150" height="80" fill="lightgreen" stroke="black" stroke-width="2"/>
        </svg>
    </div>

    <div class="comment-form" id="commentForm">
        <input type="text" id="timeInput" placeholder="До какого времени (например: 18:00)">
        <button onclick="saveComment()">Оставить комментарий</button>
    </div>

    <script>
        let currentParkingId = null;
        const comments = JSON.parse(localStorage.getItem('parkingComments')) || {};

        // Рендер комментариев при загрузке
        function renderComments() {
            const svg = document.getElementById('parking_map');
            svg.innerHTML = ''; // Очищаем SVG

            // Восстанавливаем элементы парковки
            const originalSVG = `
                <rect id="parking_1" x="50" y="50" width="150" height="80" fill="lightgreen" stroke="black" stroke-width="2"/>
            `;
            svg.innerHTML += originalSVG;

            // Добавляем комментарии
            Object.entries(comments).forEach(([id, comment]) => {
                const rect = document.getElementById(id);
                if (rect) {
                    const bbox = rect.getBBox();
                    const commentText = document.createElementNS(""http://www.w3.org/2000/svg" viewBox="0 0 16284 16307"><defs><style>.cls-1,.cls-10,.cls-11,.cls-12,.cls-13,.cls-14,.cls-2,.cls-3,.cls-4,.cls-5,.cls-6,.cls-7,.cls-8,.cls-9{fill:none;}.cls-1,.cls-11,.cls-15,.cls-16,.cls-17,.cls-18,.cls-19,.cls-2,.cls-3,.cls-4,.cls-5,.cls-6,.cls-7,.cls-8,.cls-9{stroke:#1d1d1b;}.cls-1,.cls-10,.cls-11,.cls-12,.cls-13,.cls-14,.cls-15,.cls-16,.cls-17,.cls-18,.cls-19,.cls-2,.cls-3,.cls-4,.cls-5,.cls-6,.cls-7,.cls-8,.cls-9{stroke-miterlimit:10;}.cls-1{stroke-width:12.74px;}.cls-2{stroke-width:11.34px;}.cls-3{stroke-width:11.48px;}.cls-4{stroke-width:10.19px;}.cls-5{stroke-width:12.33px;}.cls-6{stroke-width:13.76px;}.cls-7{stroke-width:10.49px;}.cls-8{stroke-width:11.26px;}.cls-9{stroke-width:8.7px;}.cls-10,.cls-12,.cls-14{stroke:#000;}.cls-10{stroke-width:16.26px;}.cls-11{stroke-width:18.03px;}.cls-12,.cls-13{stroke-width:11.04px;}.cls-13{stroke:#009245;}.cls-14{stroke-width:12.75px;}.cls-15,.cls-16,.cls-17,.cls-18,.cls-19{fill:#caba9f;}.cls-15{stroke-width:25.33px;}.cls-16{stroke-width:25.32px;}.cls-17{stroke-width:22.06px;}.cls-18{stroke-width:2.12px;}.cls-19{stroke-width:22.06px;}</style></defs><g id="id_obgect_1" data-name="id obgect_1"><rect class="cls-1" x="7869.8" y="6802.66" width="568.49" height="1064.86" rx="4.72"/><rect class="cls-2" x="9284.39" y="8226.8" width="476.17" height="249.42" rx="14.84"/><rect class="cls-3" x="6903.27" y="8225.33" width="476.17" height="255.94" rx="14.84"/><path class="cls-4" d="M10315.84,8226.8h294.79a6.08,6.08,0,0,1,6.08,6.08v237.25a6.08,6.08,0,0,1-6.08,6.08h-212.75a165.73,165.73,0,0,1-165.73-165.73v0a83.69,83.69,0,0,1,83.69-83.69Z"/><path class="cls-5" d="M8470.47,4928.05h287a79.88,79.88,0,0,1,79.88,79.88v154.55a79.88,79.88,0,0,1-79.88,79.88H8390.59a0,0,0,0,1,0,0V5007.93A79.88,79.88,0,0,1,8470.47,4928.05Z"/><rect class="cls-6" x="9290.04" y="4868.13" width="476.17" height="367.44" rx="14.84"/><rect class="cls-7" x="9324.77" y="6440.8" width="407.37" height="249.42" rx="124.71"/><rect class="cls-8" x="7536.68" y="7813.05" width="157.99" height="320.01"/><path class="cls-9" d="M8438.61,7652.67h316.54a82.1,82.1,0,0,1,82.1,82.1v375.66a97.49,97.49,0,0,1-97.49,97.49H8492.85a54.24,54.24,0,0,1-54.24-54.24v-501A0,0,0,0,1,8438.61,7652.67Z"/><rect class="cls-10" x="6085" y="3953" width="4532" height="7850"/><path class="cls-11" d="M6830,4927.92h292.81a17.86,17.86,0,0,1,17.86,17.86v290.06a0,0,0,0,1,0,0H6844.47a59.07,59.07,0,0,1-59.07-59.07V4972.54A44.61,44.61,0,0,1,6830,4927.92Z"/></g><g id="id_parking_1" data-name="id parking_1"><line class="cls-7" x1="9522.36" y1="5242.4" x2="9522.36" y2="6440.87"/><line class="cls-7" x1="9528.56" y1="6690.38" x2="9522.36" y2="8226.71"/><line class="cls-7" x1="8438.56" y1="7413.09" x2="8837.36" y2="7413.09"/><line class="cls-7" x1="8438.56" y1="7216.78" x2="8837.36" y2="7216.78"/><line class="cls-7" x1="8438.56" y1="7020.48" x2="8837.36" y2="7020.48"/><line class="cls-7" x1="8438.56" y1="6802.48" x2="8837.36" y2="6802.48"/><line class="cls-7" x1="8393.62" y1="6292.1" x2="8840.46" y2="6292.1"/><line class="cls-7" x1="8390.52" y1="6547.29" x2="8837.36" y2="6547.29"/><line class="cls-7" x1="8390.52" y1="6037.42" x2="8837.36" y2="6037.42"/><line class="cls-7" x1="8393.62" y1="5835.44" x2="8840.46" y2="5835.44"/><line class="cls-7" x1="8393.62" y1="5633.45" x2="8840.46" y2="5633.45"/><line class="cls-7" x1="8390.52" y1="5431.47" x2="8837.36" y2="5431.47"/><line class="cls-7" x1="7697.78" y1="4928.83" x2="7697.78" y2="5242.91"/><line class="cls-7" x1="8050.09" y1="4931.93" x2="8050.09" y2="5239.3"/><line class="cls-7" x1="7869.8" y1="4931.93" x2="7869.8" y2="5239.3"/><line class="cls-7" x1="8216.95" y1="4928.31" x2="8216.95" y2="5235.68"/><line class="cls-7" x1="7536.09" y1="4928.83" x2="7536.09" y2="5235.68"/><line class="cls-7" x1="7350.12" y1="4932.45" x2="7350.12" y2="5239.3"/><line class="cls-7" x1="7140.9" y1="5367.93" x2="6785.49" y2="5367.93"/><line class="cls-7" x1="7140.9" y1="5512.05" x2="6785.49" y2="5512.05"/><line class="cls-7" x1="7140.9" y1="5673.74" x2="6785.49" y2="5673.74"/><line class="cls-7" x1="7140.9" y1="5835.44" x2="6785.49" y2="5835.44"/><line class="cls-7" x1="7140.9" y1="5997.13" x2="6785.49" y2="5997.13"/><line class="cls-7" x1="7140.9" y1="6182.58" x2="6785.49" y2="6182.58"/><line class="cls-7" x1="7140.9" y1="6368.03" x2="6785.49" y2="6368.03"/><line class="cls-7" x1="7140.9" y1="6587.58" x2="6785.49" y2="6587.58"/><line class="cls-7" x1="7140.9" y1="6770.45" x2="6785.49" y2="6770.45"/><line class="cls-7" x1="7140.9" y1="6953.33" x2="6785.49" y2="6953.33"/><line class="cls-7" x1="7140.9" y1="7136.2" x2="6785.49" y2="7136.2"/><line class="cls-7" x1="6553.69" y1="11442.32" x2="6552.26" y2="11797.72"/><line class="cls-7" x1="6729.38" y1="11442.97" x2="6727.95" y2="11798.38"/><line class="cls-7" x1="6958.07" y1="11456.62" x2="6956.64" y2="11812.03"/><line class="cls-7" x1="7159.52" y1="11456.37" x2="7158.09" y2="11811.78"/><line class="cls-7" x1="7393.98" y1="11456.12" x2="7392.54" y2="11811.53"/><line class="cls-7" x1="7628.52" y1="11456" x2="7627.09" y2="11811.41"/><line class="cls-7" x1="7874.39" y1="11452.74" x2="7872.96" y2="11808.15"/><line class="cls-7" x1="8142.26" y1="11448.48" x2="8140.83" y2="11803.89"/><line class="cls-7" x1="8403.13" y1="11443.22" x2="8401.7" y2="11798.62"/><line class="cls-7" x1="8668.98" y1="11438.12" x2="8667.54" y2="11793.53"/><line class="cls-7" x1="8963.52" y1="11445" x2="8962.09" y2="11800.41"/><line class="cls-7" x1="9234.39" y1="11441.74" x2="9232.96" y2="11797.15"/><line class="cls-7" x1="9504.26" y1="11442.48" x2="9502.83" y2="11797.89"/><line class="cls-7" x1="9759.13" y1="11442.22" x2="9757.7" y2="11797.62"/><line class="cls-7" x1="10007.13" y1="11443.22" x2="10005.7" y2="11798.62"/><line class="cls-7" x1="7140.9" y1="7319.07" x2="6785.49" y2="7319.07"/><line class="cls-7" x1="7140.9" y1="7501.94" x2="6785.49" y2="7501.94"/><line class="cls-7" x1="7140.9" y1="7684.81" x2="6785.49" y2="7684.81"/><line class="cls-7" x1="7140.9" y1="7867.68" x2="6785.49" y2="7867.68"/><line class="cls-7" x1="7140.9" y1="8058.82" x2="6785.49" y2="8058.82"/><line class="cls-7" x1="10617" y1="6889.79" x2="10261.59" y2="6889.79"/><line class="cls-7" x1="10617" y1="7068.52" x2="10261.59" y2="7068.52"/><line class="cls-7" x1="10617" y1="7242.1" x2="10261.59" y2="7242.1"/><line class="cls-7" x1="10617" y1="7438.4" x2="10261.59" y2="7438.4"/><line class="cls-7" x1="10617" y1="7640.9" x2="10261.59" y2="7640.9"/><line class="cls-7" x1="10617" y1="7837.2" x2="10261.59" y2="7837.2"/><line class="cls-7" x1="10617" y1="8027.82" x2="10261.59" y2="8027.82"/><line class="cls-7" x1="10602" y1="11003.9" x2="10246.59" y2="11003.9"/><line class="cls-7" x1="10602" y1="11200.2" x2="10246.59" y2="11200.2"/><line class="cls-7" x1="10602" y1="11390.82" x2="10246.59" y2="11390.82"/><line class="cls-7" x1="10617" y1="5579.21" x2="10261.59" y2="5579.21"/><line class="cls-7" x1="10617" y1="5431.47" x2="10261.59" y2="5431.47"/><line class="cls-7" x1="10617" y1="5264.09" x2="10261.59" y2="5264.09"/><line class="cls-7" x1="10617" y1="5096.72" x2="10261.59" y2="5096.72"/><line class="cls-7" x1="10617" y1="4899.9" x2="10261.59" y2="4899.9"/><line class="cls-7" x1="10617" y1="4732.53" x2="10261.59" y2="4732.53"/><line class="cls-7" x1="10617" y1="4532.61" x2="10261.59" y2="4532.61"/><line class="cls-7" x1="10617" y1="4362.65" x2="10261.59" y2="4362.65"/><line class="cls-7" x1="10617" y1="4194.76" x2="10261.59" y2="4194.76"/><line class="cls-7" x1="10617" y1="5757.95" x2="10261.59" y2="5757.95"/><line class="cls-7" x1="10617" y1="5931.52" x2="10261.59" y2="5931.52"/><line class="cls-7" x1="10617" y1="6127.82" x2="10261.59" y2="6127.82"/><line class="cls-7" x1="10617" y1="6330.32" x2="10261.59" y2="6330.32"/><line class="cls-7" x1="10617" y1="6526.63" x2="10261.59" y2="6526.63"/><line class="cls-7" x1="10617" y1="6717.25" x2="10261.59" y2="6717.25"/><line class="cls-12" x1="9290.41" y1="5367.67" x2="9766.7" y2="5367.67"/><line class="cls-12" x1="9295.06" y1="5506.11" x2="9771.35" y2="5506.11"/><line class="cls-12" x1="9284.21" y1="5644.56" x2="9760.5" y2="5644.56"/><line class="cls-12" x1="9287.31" y1="5806.25" x2="9763.6" y2="5806.25"/><line class="cls-12" x1="9287.31" y1="5962.77" x2="9763.6" y2="5962.77"/><line class="cls-12" x1="9284.21" y1="6112.58" x2="9760.5" y2="6112.58"/><line class="cls-12" x1="9287.31" y1="6262.39" x2="9763.6" y2="6262.39"/><line class="cls-12" x1="9290.93" y1="6864.21" x2="9767.22" y2="6864.21"/><line class="cls-12" x1="9295.58" y1="7002.66" x2="9771.87" y2="7002.66"/><line class="cls-12" x1="9284.73" y1="7141.1" x2="9761.02" y2="7141.1"/><line class="cls-12" x1="9287.83" y1="7302.8" x2="9764.12" y2="7302.8"/><line class="cls-12" x1="9287.83" y1="7459.32" x2="9764.12" y2="7459.32"/><line class="cls-12" x1="9284.73" y1="7609.13" x2="9761.02" y2="7609.13"/><line class="cls-12" x1="9287.83" y1="7758.94" x2="9764.12" y2="7758.94"/><line class="cls-12" x1="9287.83" y1="7908.75" x2="9764.12" y2="7908.75"/><line class="cls-12" x1="9295.58" y1="8058.56" x2="9771.87" y2="8058.56"/><line class="cls-12" x1="7745.58" y1="9286.56" x2="8221.87" y2="9286.56"/><line class="cls-12" x1="7745.58" y1="9517.56" x2="8221.87" y2="9517.56"/><line class="cls-12" x1="7744.58" y1="9748.56" x2="8220.87" y2="9748.56"/><line class="cls-12" x1="7744.58" y1="9979.56" x2="8220.87" y2="9979.56"/><line class="cls-12" x1="7745.58" y1="10210.56" x2="8221.87" y2="10210.56"/><line class="cls-12" x1="7753.58" y1="10441.56" x2="8229.87" y2="10441.56"/><line class="cls-12" x1="7753.58" y1="10672.56" x2="8229.87" y2="10672.56"/><line class="cls-12" x1="8906.58" y1="9286.56" x2="9382.87" y2="9286.56"/><line class="cls-12" x1="8906.58" y1="9517.56" x2="9382.87" y2="9517.56"/><line class="cls-12" x1="8905.58" y1="9748.56" x2="9381.87" y2="9748.56"/><line class="cls-12" x1="8905.58" y1="9979.56" x2="9381.87" y2="9979.56"/><line class="cls-12" x1="8906.58" y1="10210.56" x2="9382.87" y2="10210.56"/><line class="cls-12" x1="8914.58" y1="10441.56" x2="9390.87" y2="10441.56"/><line class="cls-12" x1="8914.58" y1="10672.56" x2="9390.87" y2="10672.56"/><line class="cls-13" x1="7140.64" y1="5235.94" x2="7140.64" y2="8226.97"/><line class="cls-13" x1="8390.78" y1="5242.14" x2="7140.64" y2="5242.14"/><line class="cls-13" x1="8390.26" y1="6802.22" x2="8390.26" y2="5242.14"/><polygon class="cls-14" points="8224.76 9085.55 7740.1 9076.94 7741.98 8970.88 7985.25 8922.16 8226.64 8979.49 8224.76 9085.55"/><polygon class="cls-14" points="7741.98 10876.16 8226.64 10884.76 8224.76 10990.83 7981.48 11039.55 7740.1 10982.22 7741.98 10876.16"/><polygon class="cls-14" points="8905.98 10873.16 9390.64 10881.76 9388.76 10987.83 9145.48 11036.55 8904.09 10979.22 8905.98 10873.16"/><polygon class="cls-14" points="9388.76 9105.55 8904.09 9096.94 8905.98 8990.88 9149.25 8942.16 9390.64 8999.49 9388.76 9105.55"/><line class="cls-14" x1="7982.5" y1="9081.5" x2="7982.5" y2="10880.5"/><line class="cls-14" x1="9146.5" y1="9101.5" x2="9146.5" y2="10880.5"/></g><g id="id_obgect_2" data-name="id obgect_2"><polygon class="cls-15" points="4766.18 860 4766.18 1615.79 4777.21 1615.79 4777.21 8476 5681.82 8476 5681.82 1615.79 6134.13 1615.79 6134.13 860 4766.18 860"/><polygon class="cls-16" points="11821.05 867.81 11821.05 1623.32 11810.01 1623.32 11810.01 8481 10905.4 8481 10905.4 1623.32 10453.1 1623.32 10453.1 867.81 11821.05 867.81"/><rect class="cls-17" x="6929.39" y="862.06" width="2779.45" height="756.49"/><line class="cls-18" x1="5644.91" y1="3968.32" x2="10872.31" y2="3968.32"/><polygon class="cls-19" points="10891.57 9758.5 12897.53 9758.5 14657 13710.92 13968.51 13982.92 12379.04 10642.48 10891.57 10642.48 10891.57 9758.5"/><polygon class="cls-19" points="5671.4 9691.25 3665.44 9691.25 1905.98 13643.67 2594.46 13915.67 4183.93 10575.23 5671.4 10575.23 5671.4 9691.25"/><rect class="cls-19" x="7807.37" y="12029.72" width="1087.98" height="2779.45" rx="537.45"/><rect class="cls-7" x="10232" y="10328" width="392" height="470"");
                    commentText.setAttribute('x', bbox.x + 10);
                    commentText.setAttribute('y', bbox.y + bbox.height + 20);
                    commentText.textContent = `⏰ ${comment}`;
                    svg.appendChild(commentText);
                }
            });
        }

        // Обработчик клика по парковке
        document.getElementById('parkingMap').addEventListener('click', (e) => {
            const target = e.target;
            if (target.id.startsWith('parking_')) {
                currentParkingId = target.id;
                document.getElementById('commentForm').style.display = 'block';
            }
        });

        // Сохранение комментария
        function saveComment() {
            const time = document.getElementById('timeInput').value;
            if (time && currentParkingId) {
                comments[currentParkingId] = time;
                localStorage.setItem('parkingComments', JSON.stringify(comments));
                renderComments();
                document.getElementById('commentForm').style.display = 'none';
                document.getElementById('timeInput').value = '';
            }
        }

        // Инициализация
        renderComments();
    </script>
</body>
</html>
